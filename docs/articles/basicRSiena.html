<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>basicRSiena.r: a basic script for the introduction to RSiena • RSiena</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="basicRSiena.r: a basic script for the introduction to RSiena">
<meta property="og:description" content="RSiena">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RSiena</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2-25</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">In the package</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/snlab-nl/rsiena">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>basicRSiena.r: a basic script for the introduction to RSiena</h1>
                        <h4 class="author">Tom Snijders</h4>
            
            <h4 class="date">July 3, 2018</h4>
      
      
      <div class="hidden name"><code>basicRSiena.Rmd</code></div>

    </div>

    
    
<p>An example of a basic sequence of commands for estimating a basic model by function <code><a href="../reference/siena07.html">siena07()</a></code> of <code>RSiena</code>. With a lot of use of help pages; this can be skipped as you like. Note that lines starting with # are comment lines, not commands.</p>
<p>What is your current working directory?</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span>()
<span class="co">#&gt; [1] "/Users/hollway/Dropbox/Resources/Tools/rsiena/vignettes"</span></pre></body></html></div>
<p>If you wish it to be different, change it by</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"># setwd()</pre></body></html></div>
<p>In my case:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"># setwd("C:\\Users\\tom.snijders\\Documents\\Siena\\s50_script")</pre></body></html></div>
<p>Note the double backslashes used for R.</p>
<p>If you have not yet installed RSiena, do this preferably from R-Forge; this can be done by (for Windows) downloading the .zip file from <a href="http://r-forge.r-project.org/R/?group_id=461" class="uri">http://r-forge.r-project.org/R/?group_id=461</a> or (for Mac) the .tgz file from <a href="http://www.stats.ox.ac.uk/~snijders/siena/siena_downloads.htm" class="uri">http://www.stats.ox.ac.uk/~snijders/siena/siena_downloads.htm</a> and then in R installing from the local zip or tgz file.</p>
<p>Or you can use</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"># install.packages("RSiena", repos="http://R-Forge.R-project.org")</pre></body></html></div>
<p>and for the RSienaTest package by</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"># install.packages("RSienaTest", repos="http://R-Forge.R-project.org")</pre></body></html></div>
<p>The R-Forge version usually is more up to date than the version available from CRAN, the general R archive. RSienaTest is not available from CRAN. Note that you can also download the recent versions from the Siena website, <a href="http://www.stats.ox.ac.uk/~snijders/siena/siena_downloads.htm" class="uri">http://www.stats.ox.ac.uk/~snijders/siena/siena_downloads.htm</a></p>
<div id="define-data-sets" class="section level1">
<h1 class="hasAnchor">
<a href="#define-data-sets" class="anchor"></a>Define data sets</h1>
<p>If you have internet access, you can download the data from the Siena website (“Data sets” tab) <a href="http://www.stats.ox.ac.uk/~snijders/siena/s50_data.zip" class="uri">http://www.stats.ox.ac.uk/~snijders/siena/s50_data.zip</a> and unzip it in your working directory. The data description is at <a href="http://www.stats.ox.ac.uk/~snijders/siena/s50_data.htm" class="uri">http://www.stats.ox.ac.uk/~snijders/siena/s50_data.htm</a></p>
<p>Then you can read the data files by the commands (this can be replaced by using the internal data set, see below)</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"># friend.data.w1 &lt;- as.matrix(read.table("s50-network1.dat"))
# friend.data.w2 &lt;- as.matrix(read.table("s50-network2.dat"))
# friend.data.w3 &lt;- as.matrix(read.table("s50-network3.dat"))
# drink &lt;- as.matrix(read.table("s50-alcohol.dat"))
# smoke &lt;- as.matrix(read.table("s50-smoke.dat"))</pre></body></html></div>
<p>But without internet access, the data can be obtained from within RSiena (see below), because this is an internal data set.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">RSiena</span>) <span class="co"># or RSienaTest</span>
<span class="co"># Now we use the internally available s50 data set.</span>
<span class="co"># Look at its description:</span>
?<span class="no">s50</span>
<span class="co"># 3 waves, 50 actors</span>
<span class="co"># Look at the start and end of the first wave matrix</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">s501</span>)
<span class="co">#&gt;   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20 V21</span>
<span class="co">#&gt; 1  0  0  0  0  0  0  0  0  0   0   1   0   0   1   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 2  0  0  0  0  0  0  1  0  0   0   1   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 3  0  0  0  1  0  0  0  0  1   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 4  0  0  1  0  0  0  0  0  1   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 5  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 6  0  0  0  0  0  0  0  1  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt;   V22 V23 V24 V25 V26 V27 V28 V29 V30 V31 V32 V33 V34 V35 V36 V37 V38 V39 V40</span>
<span class="co">#&gt; 1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 3   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 4   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 5   0   0   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 6   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt;   V41 V42 V43 V44 V45 V46 V47 V48 V49 V50</span>
<span class="co">#&gt; 1   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 2   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 3   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 4   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 5   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 6   0   0   0   0   0   0   0   0   0   0</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(<span class="no">s501</span>)
<span class="co">#&gt;    V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20 V21</span>
<span class="co">#&gt; 45  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 46  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 47  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 48  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 49  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 50  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt;    V22 V23 V24 V25 V26 V27 V28 V29 V30 V31 V32 V33 V34 V35 V36 V37 V38 V39 V40</span>
<span class="co">#&gt; 45   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1</span>
<span class="co">#&gt; 46   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1</span>
<span class="co">#&gt; 47   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 48   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 49   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 50   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt;    V41 V42 V43 V44 V45 V46 V47 V48 V49 V50</span>
<span class="co">#&gt; 45   0   0   0   0   0   1   1   0   0   0</span>
<span class="co">#&gt; 46   0   0   0   0   1   0   0   0   1   0</span>
<span class="co">#&gt; 47   0   0   0   0   0   0   0   0   0   0</span>
<span class="co">#&gt; 48   0   0   0   0   0   1   0   0   1   0</span>
<span class="co">#&gt; 49   0   0   0   0   0   1   0   1   0   0</span>
<span class="co">#&gt; 50   0   0   0   0   0   0   0   0   0   0</span>
<span class="co"># and at the alcohol variable</span>
<span class="no">s50a</span>
<span class="co">#&gt;    V1 V2 V3</span>
<span class="co">#&gt; 1   3  1  3</span>
<span class="co">#&gt; 2   2  2  2</span>
<span class="co">#&gt; 3   2  3  3</span>
<span class="co">#&gt; 4   2  3  2</span>
<span class="co">#&gt; 5   3  3  4</span>
<span class="co">#&gt; 6   4  4  4</span>
<span class="co">#&gt; 7   4  4  3</span>
<span class="co">#&gt; 8   4  5  4</span>
<span class="co">#&gt; 9   2  2  2</span>
<span class="co">#&gt; 10  4  5  4</span>
<span class="co">#&gt; 11  5  5  5</span>
<span class="co">#&gt; 12  5  5  5</span>
<span class="co">#&gt; 13  3  2  2</span>
<span class="co">#&gt; 14  3  4  3</span>
<span class="co">#&gt; 15  4  4  5</span>
<span class="co">#&gt; 16  4  5  4</span>
<span class="co">#&gt; 17  2  4  4</span>
<span class="co">#&gt; 18  4  3  3</span>
<span class="co">#&gt; 19  3  5  5</span>
<span class="co">#&gt; 20  2  3  3</span>
<span class="co">#&gt; 21  1  1  3</span>
<span class="co">#&gt; 22  3  2  3</span>
<span class="co">#&gt; 23  4  4  2</span>
<span class="co">#&gt; 24  3  3  3</span>
<span class="co">#&gt; 25  3  4  4</span>
<span class="co">#&gt; 26  4  4  3</span>
<span class="co">#&gt; 27  2  2  3</span>
<span class="co">#&gt; 28  2  2  4</span>
<span class="co">#&gt; 29  3  3  3</span>
<span class="co">#&gt; 30  1  3  4</span>
<span class="co">#&gt; 31  4  4  4</span>
<span class="co">#&gt; 32  4  2  4</span>
<span class="co">#&gt; 33  3  4  3</span>
<span class="co">#&gt; 34  2  2  2</span>
<span class="co">#&gt; 35  3  3  4</span>
<span class="co">#&gt; 36  4  4  4</span>
<span class="co">#&gt; 37  2  2  3</span>
<span class="co">#&gt; 38  3  3  4</span>
<span class="co">#&gt; 39  2  2  3</span>
<span class="co">#&gt; 40  1  1  1</span>
<span class="co">#&gt; 41  4  3  4</span>
<span class="co">#&gt; 42  4  5  5</span>
<span class="co">#&gt; 43  2  2  4</span>
<span class="co">#&gt; 44  5  5  5</span>
<span class="co">#&gt; 45  2  2  2</span>
<span class="co">#&gt; 46  2  2  2</span>
<span class="co">#&gt; 47  2  2  2</span>
<span class="co">#&gt; 48  2  3  4</span>
<span class="co">#&gt; 49  1  2  3</span>
<span class="co">#&gt; 50  1  2  3</span>
<span class="co"># Now define the objects with the same names as above</span>
<span class="co"># (this step is superfluous if you read the data already).</span>
        <span class="no">friend.data.w1</span> <span class="kw">&lt;-</span> <span class="no">s501</span>
        <span class="no">friend.data.w2</span> <span class="kw">&lt;-</span> <span class="no">s502</span>
        <span class="no">friend.data.w3</span> <span class="kw">&lt;-</span> <span class="no">s503</span>
        <span class="no">drink</span> <span class="kw">&lt;-</span> <span class="no">s50a</span>
        <span class="no">smoke</span> <span class="kw">&lt;-</span> <span class="no">s50s</span></pre></body></html></div>
<p>Now the data must be given the specific roles of variables in an RSiena analysis.</p>
</div>
<div id="dependent-variable" class="section level1">
<h1 class="hasAnchor">
<a href="#dependent-variable" class="anchor"></a>Dependent variable</h1>
<div class="sourceCode" id="cb8"><html><body><pre class="r">?<span class="no">sienaDependent</span>
<span class="co"># First create a 50 * 50 * 3 array composed of the 3 adjacency matrices</span>
<span class="no">friendshipData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span>( <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>( <span class="no">friend.data.w1</span>, <span class="no">friend.data.w2</span>, <span class="no">friend.data.w3</span> ),
           <span class="kw">dim</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>( <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">3</span> ) )
<span class="co"># and next give this the role of the dependent variable:</span>
    <span class="no">friendship</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sienaDependent.html">sienaDependent</a></span>(<span class="no">friendshipData</span>)</pre></body></html></div>
<p>We also must prepare the objects that will be the explanatory variables.</p>
</div>
<div id="actor-covariates" class="section level1">
<h1 class="hasAnchor">
<a href="#actor-covariates" class="anchor"></a>Actor covariates</h1>
<p>We use smoking for wave 1 as a constant actor covariate:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">smoke1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/coCovar.html">coCovar</a></span>( <span class="no">smoke</span>[ , <span class="fl">1</span> ] )
<span class="co"># A variable actor covariate is defined for drinking:</span>
<span class="no">alcohol</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/varCovar.html">varCovar</a></span>( <span class="no">drink</span> )
<span class="co"># (This choice is purely for the purpose of illustration here.)</span></pre></body></html></div>
<p>Put the variables together in the data set for analysis</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r">?<span class="no">sienaDataCreate</span>
<span class="no">mydata</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sienaDataCreate.html">sienaDataCreate</a></span>( <span class="no">friendship</span>, <span class="no">smoke1</span>, <span class="no">alcohol</span> )
<span class="co"># Check what we have</span>
<span class="no">mydata</span>
<span class="co">#&gt; Dependent variables:  friendship </span>
<span class="co">#&gt; Number of observations: 3 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Nodeset                  Actors </span>
<span class="co">#&gt; Number of nodes              50 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dependent variable friendship      </span>
<span class="co">#&gt; Type               oneMode         </span>
<span class="co">#&gt; Observations       3               </span>
<span class="co">#&gt; Nodeset            Actors          </span>
<span class="co">#&gt; Densities          0.046 0.047 0.05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Constant covariates:  smoke1 </span>
<span class="co">#&gt; Changing covariates:  alcohol</span></pre></body></html></div>
<p>You can get an outline of the data set with some basic descriptives from</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/print01Report.html">print01Report</a></span>( <span class="no">mydata</span>, <span class="kw">modelname</span><span class="kw">=</span><span class="st">"s50"</span>)
<span class="co"># For the model specification we need to create the effects object</span>
<span class="no">myeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/getEffects.html">getEffects</a></span>( <span class="no">mydata</span> )
<span class="co"># All the effects that are available given the structure</span>
<span class="co"># of this data set can be seen from</span>
<span class="fu"><a href="../reference/effectsDocumentation.html">effectsDocumentation</a></span>(<span class="no">myeff</span>)
<span class="co"># For a precise description of all effects, see Chapter 12 in the RSiena manual.</span>
<span class="co"># A basic specification of the structural effects:</span>
?<span class="no">includeEffects</span>
<span class="no">myeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">myeff</span>, <span class="no">transTrip</span>, <span class="no">cycle3</span>)
<span class="co">#&gt;   effectName          include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 transitive triplets TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 2 3-cycles            TRUE    FALSE FALSE          0   0</span>
<span class="co"># and some covariate effects:</span>
<span class="no">myeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">myeff</span>, <span class="no">egoX</span>, <span class="no">altX</span>, <span class="no">simX</span>, <span class="kw">interaction1</span> <span class="kw">=</span> <span class="st">"alcohol"</span> )
<span class="co">#&gt;   effectName         include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 alcohol alter      TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 2 alcohol ego        TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 3 alcohol similarity TRUE    FALSE FALSE          0   0</span>
<span class="no">myeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">myeff</span>, <span class="no">simX</span>, <span class="kw">interaction1</span> <span class="kw">=</span> <span class="st">"smoke1"</span> )
<span class="co">#&gt;   effectName        include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 smoke1 similarity TRUE    FALSE FALSE          0   0</span>
<span class="no">myeff</span>
<span class="co">#&gt;    effectName                          include fix   test  initialValue parm</span>
<span class="co">#&gt; 1  constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   </span>
<span class="co">#&gt; 2  constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   </span>
<span class="co">#&gt; 3  outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   </span>
<span class="co">#&gt; 4  reciprocity                         TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 5  transitive triplets                 TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 6  3-cycles                            TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 7  smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 8  alcohol alter                       TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 9  alcohol ego                         TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 10 alcohol similarity                  TRUE    FALSE FALSE    0.00000   0</span></pre></body></html></div>
<p>Create object with algorithm settings Accept defaults but specify name for output file (which you may replace by any name you prefer)</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r">?<span class="no">sienaAlgorithmCreate</span>
<span class="no">myalgorithm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sienaAlgorithmCreate.html">sienaAlgorithmCreate</a></span>( <span class="kw">projname</span> <span class="kw">=</span> <span class="st">'s50'</span> )
<span class="co">#&gt; If you use this algorithm object, siena07 will create an output file s50.txt .</span></pre></body></html></div>
</div>
<div id="estimate-parameters" class="section level1">
<h1 class="hasAnchor">
<a href="#estimate-parameters" class="anchor"></a>Estimate parameters</h1>
<div class="sourceCode" id="cb13"><html><body><pre class="r">?<span class="no">siena07</span>
<span class="no">ans</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siena07.html">siena07</a></span>( <span class="no">myalgorithm</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">mydata</span>, <span class="kw">effects</span> <span class="kw">=</span> <span class="no">myeff</span>)
<span class="no">ans</span>
<span class="co">#&gt; Estimates, standard errors and convergence t-ratios</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                    Estimate   Standard   Convergence </span>
<span class="co">#&gt;                                                 Error      t-ratio   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rate parameters: </span>
<span class="co">#&gt;   0.1      Rate parameter period 1  6.6226  ( 1.1787   )             </span>
<span class="co">#&gt;   0.2      Rate parameter period 2  5.2702  ( 0.9370   )             </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Other parameters: </span>
<span class="co">#&gt;   1.  eval outdegree (density)     -2.7524  ( 0.1396   )   -0.0462   </span>
<span class="co">#&gt;   2.  eval reciprocity              2.4704  ( 0.2267   )    0.0204   </span>
<span class="co">#&gt;   3.  eval transitive triplets      0.6815  ( 0.1610   )   -0.0245   </span>
<span class="co">#&gt;   4.  eval 3-cycles                -0.1231  ( 0.3221   )   -0.0336   </span>
<span class="co">#&gt;   5.  eval smoke1 similarity        0.2128  ( 0.2084   )    0.0961   </span>
<span class="co">#&gt;   6.  eval alcohol alter           -0.0129  ( 0.0700   )   -0.0317   </span>
<span class="co">#&gt;   7.  eval alcohol ego              0.0526  ( 0.0809   )   -0.0719   </span>
<span class="co">#&gt;   8.  eval alcohol similarity       0.7322  ( 0.2898   )   -0.0093   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall maximum convergence ratio:    0.2693 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total of 2303 iteration steps.</span></pre></body></html></div>
<p>For checking convergence, look at the ‘Overall maximum convergence ratio’ mentioned under the parameter estimates.</p>
<p>It can also be shown by requesting 0.2693473</p>
<p>If this is less than 0.25, convergence is good. If convergence is inadequate, estimate once more, using the result obtained as the “previous answer” from which estimation continues:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">ans</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siena07.html">siena07</a></span>( <span class="no">myalgorithm</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">mydata</span>, <span class="kw">effects</span> <span class="kw">=</span> <span class="no">myeff</span>, <span class="kw">prevAns</span><span class="kw">=</span><span class="no">ans</span>)
<span class="no">ans</span>
<span class="co">#&gt; Estimates, standard errors and convergence t-ratios</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                    Estimate   Standard   Convergence </span>
<span class="co">#&gt;                                                 Error      t-ratio   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rate parameters: </span>
<span class="co">#&gt;   0.1      Rate parameter period 1  6.6339  ( 1.1839   )             </span>
<span class="co">#&gt;   0.2      Rate parameter period 2  5.3079  ( 0.9068   )             </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Other parameters: </span>
<span class="co">#&gt;   1.  eval outdegree (density)     -2.7351  ( 0.1252   )   -0.0053   </span>
<span class="co">#&gt;   2.  eval reciprocity              2.4306  ( 0.2395   )    0.0274   </span>
<span class="co">#&gt;   3.  eval transitive triplets      0.6381  ( 0.1520   )    0.0248   </span>
<span class="co">#&gt;   4.  eval 3-cycles                -0.0294  ( 0.3226   )    0.0564   </span>
<span class="co">#&gt;   5.  eval smoke1 similarity        0.1998  ( 0.2254   )    0.0046   </span>
<span class="co">#&gt;   6.  eval alcohol alter           -0.0141  ( 0.0743   )    0.0163   </span>
<span class="co">#&gt;   7.  eval alcohol ego              0.0556  ( 0.0768   )    0.0140   </span>
<span class="co">#&gt;   8.  eval alcohol similarity       0.7331  ( 0.2967   )    0.0189   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall maximum convergence ratio:    0.3067 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total of 2753 iteration steps.</span>
<span class="co"># If convergence is good, you can look at the estimates.</span>
<span class="co"># More extensive results</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">ans</span>)
<span class="co">#&gt; Estimates, standard errors and convergence t-ratios</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                    Estimate   Standard   Convergence </span>
<span class="co">#&gt;                                                 Error      t-ratio   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rate parameters: </span>
<span class="co">#&gt;   0.1      Rate parameter period 1  6.6339  ( 1.1839   )             </span>
<span class="co">#&gt;   0.2      Rate parameter period 2  5.3079  ( 0.9068   )             </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Other parameters: </span>
<span class="co">#&gt;   1.  eval outdegree (density)     -2.7351  ( 0.1252   )   -0.0053   </span>
<span class="co">#&gt;   2.  eval reciprocity              2.4306  ( 0.2395   )    0.0274   </span>
<span class="co">#&gt;   3.  eval transitive triplets      0.6381  ( 0.1520   )    0.0248   </span>
<span class="co">#&gt;   4.  eval 3-cycles                -0.0294  ( 0.3226   )    0.0564   </span>
<span class="co">#&gt;   5.  eval smoke1 similarity        0.1998  ( 0.2254   )    0.0046   </span>
<span class="co">#&gt;   6.  eval alcohol alter           -0.0141  ( 0.0743   )    0.0163   </span>
<span class="co">#&gt;   7.  eval alcohol ego              0.0556  ( 0.0768   )    0.0140   </span>
<span class="co">#&gt;   8.  eval alcohol similarity       0.7331  ( 0.2967   )    0.0189   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall maximum convergence ratio:    0.3067 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total of 2753 iteration steps.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariance matrix of estimates (correlations below diagonal)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;        0.016       -0.019       -0.008        0.009       -0.003        0.001       -0.001       -0.006</span>
<span class="co">#&gt;       -0.617        0.057        0.014       -0.038        0.003       -0.002        0.002       -0.006</span>
<span class="co">#&gt;       -0.418        0.373        0.023       -0.042        0.002       -0.001       -0.001       -0.003</span>
<span class="co">#&gt;        0.220       -0.498       -0.857        0.104       -0.006        0.002        0.001        0.009</span>
<span class="co">#&gt;       -0.124        0.063        0.056       -0.083        0.051        0.005        0.004       -0.015</span>
<span class="co">#&gt;        0.071       -0.091       -0.093        0.063        0.301        0.006       -0.002       -0.001</span>
<span class="co">#&gt;       -0.098        0.133       -0.063        0.030        0.220       -0.333        0.006       -0.001</span>
<span class="co">#&gt;       -0.149       -0.079       -0.067        0.096       -0.230       -0.032       -0.056        0.088</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Derivative matrix of expected statistics X by parameters:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      300.154      236.188      510.701      162.497       30.680       17.157       27.033       24.521</span>
<span class="co">#&gt;      133.241      139.936      256.844       85.698       13.719        8.222        6.453       11.859</span>
<span class="co">#&gt;      359.131      318.642     1150.625      367.394       34.154       58.349       64.903       25.165</span>
<span class="co">#&gt;      172.045      162.423      534.430      178.769       18.016       21.134       21.534       12.049</span>
<span class="co">#&gt;       29.512       26.328       67.848       21.889       35.341      -42.947      -39.883        6.440</span>
<span class="co">#&gt;       19.895       20.674       67.591       22.296      -44.781      309.879      200.400        0.019</span>
<span class="co">#&gt;       22.034        9.388       71.982       21.961      -35.336      205.673      290.532        1.773</span>
<span class="co">#&gt;       26.750       21.993       39.573       12.345        6.535        0.649        0.499       15.092</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariance matrix of X (correlations below diagonal):</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;      484.223      421.174     1190.380      384.785       53.006       70.507       80.310       37.472</span>
<span class="co">#&gt;        0.935      418.601     1134.168      371.085       49.254       65.560       67.861       33.984</span>
<span class="co">#&gt;        0.813        0.833     4430.532     1434.199      149.661      218.292      239.556       77.764</span>
<span class="co">#&gt;        0.807        0.837        0.994      469.474       47.807       73.804       78.440       25.192</span>
<span class="co">#&gt;        0.357        0.357        0.333        0.327       45.588      -54.923      -49.574        8.117</span>
<span class="co">#&gt;        0.156        0.156        0.160        0.166       -0.397      419.240      338.998        5.433</span>
<span class="co">#&gt;        0.183        0.166        0.180        0.181       -0.367        0.828      399.815        5.223</span>
<span class="co">#&gt;        0.416        0.406        0.286        0.284        0.294        0.065        0.064       16.744</span></pre></body></html></div>
<p>Still more extensive results are given in the output file s50.out in the current directory.</p>
<p>Note that by putting an R command between parentheses (….), the result will also be printed to the screen. Next add the transitive reciprocated triplets effect, an interaction between transitive triplets and reciprocity,</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r">(<span class="no">myeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">myeff</span>, <span class="no">transRecTrip</span>))
<span class="co">#&gt;   effectName                  include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 transitive recipr. triplets TRUE    FALSE FALSE          0   0</span>
<span class="co">#&gt;    effectName                          include fix   test  initialValue parm</span>
<span class="co">#&gt; 1  constant friendship rate (period 1) TRUE    FALSE FALSE    4.69604   0   </span>
<span class="co">#&gt; 2  constant friendship rate (period 2) TRUE    FALSE FALSE    4.32885   0   </span>
<span class="co">#&gt; 3  outdegree (density)                 TRUE    FALSE FALSE   -1.46770   0   </span>
<span class="co">#&gt; 4  reciprocity                         TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 5  transitive triplets                 TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 6  transitive recipr. triplets         TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 7  3-cycles                            TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 8  smoke1 similarity                   TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 9  alcohol alter                       TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 10 alcohol ego                         TRUE    FALSE FALSE    0.00000   0   </span>
<span class="co">#&gt; 11 alcohol similarity                  TRUE    FALSE FALSE    0.00000   0</span>
(<span class="no">ans1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siena07.html">siena07</a></span>( <span class="no">myalgorithm</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">mydata</span>, <span class="kw">effects</span> <span class="kw">=</span> <span class="no">myeff</span>, <span class="kw">prevAns</span><span class="kw">=</span><span class="no">ans</span>))
<span class="co">#&gt; Estimates, standard errors and convergence t-ratios</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                        Estimate   Standard   Convergence </span>
<span class="co">#&gt;                                                     Error      t-ratio   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rate parameters: </span>
<span class="co">#&gt;   0.1      Rate parameter period 1      6.2115  ( 1.0619   )             </span>
<span class="co">#&gt;   0.2      Rate parameter period 2      5.0752  ( 0.8326   )             </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Other parameters: </span>
<span class="co">#&gt;   1.  eval outdegree (density)         -2.9249  ( 0.1494   )   -0.0164   </span>
<span class="co">#&gt;   2.  eval reciprocity                  2.8649  ( 0.2667   )    0.0104   </span>
<span class="co">#&gt;   3.  eval transitive triplets          0.8802  ( 0.1566   )   -0.0032   </span>
<span class="co">#&gt;   4.  eval transitive recipr. triplets -0.8939  ( 0.2666   )    0.0251   </span>
<span class="co">#&gt;   5.  eval 3-cycles                     0.5502  ( 0.2801   )    0.0165   </span>
<span class="co">#&gt;   6.  eval smoke1 similarity            0.1601  ( 0.2111   )    0.0325   </span>
<span class="co">#&gt;   7.  eval alcohol alter               -0.0257  ( 0.0748   )   -0.0240   </span>
<span class="co">#&gt;   8.  eval alcohol ego                  0.0435  ( 0.0767   )   -0.0271   </span>
<span class="co">#&gt;   9.  eval alcohol similarity           0.7289  ( 0.2981   )    0.0159   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall maximum convergence ratio:    0.1785 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total of 2279 iteration steps.</span>
<span class="co"># If necessary, repeat the estimation with the new result:</span>
(<span class="no">ans1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siena07.html">siena07</a></span>( <span class="no">myalgorithm</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">mydata</span>, <span class="kw">effects</span> <span class="kw">=</span> <span class="no">myeff</span>, <span class="kw">prevAns</span><span class="kw">=</span><span class="no">ans1</span>))
<span class="co">#&gt; Estimates, standard errors and convergence t-ratios</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                        Estimate   Standard   Convergence </span>
<span class="co">#&gt;                                                     Error      t-ratio   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rate parameters: </span>
<span class="co">#&gt;   0.1      Rate parameter period 1      6.1458  ( 1.0451   )             </span>
<span class="co">#&gt;   0.2      Rate parameter period 2      5.0581  ( 0.8353   )             </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Other parameters: </span>
<span class="co">#&gt;   1.  eval outdegree (density)         -2.9359  ( 0.1560   )    0.0635   </span>
<span class="co">#&gt;   2.  eval reciprocity                  2.8818  ( 0.2822   )    0.0515   </span>
<span class="co">#&gt;   3.  eval transitive triplets          0.9148  ( 0.1508   )    0.1035   </span>
<span class="co">#&gt;   4.  eval transitive recipr. triplets -0.8935  ( 0.2730   )    0.0815   </span>
<span class="co">#&gt;   5.  eval 3-cycles                     0.4747  ( 0.3068   )    0.0779   </span>
<span class="co">#&gt;   6.  eval smoke1 similarity            0.1691  ( 0.2014   )    0.0727   </span>
<span class="co">#&gt;   7.  eval alcohol alter               -0.0254  ( 0.0750   )   -0.0173   </span>
<span class="co">#&gt;   8.  eval alcohol ego                  0.0445  ( 0.0768   )   -0.0263   </span>
<span class="co">#&gt;   9.  eval alcohol similarity           0.7221  ( 0.3032   )   -0.0097   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall maximum convergence ratio:    0.2261 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total of 2729 iteration steps.</span></pre></body></html></div>
<p>This might still not have an overall maximum convergence ratio less than 0.25. If not, you could go on once more.</p>
<p>Inspect the file s50.out in your working directory and understand the meaning of its contents.</p>
</div>
<div id="assignment-1" class="section level1">
<h1 class="hasAnchor">
<a href="#assignment-1" class="anchor"></a>Assignment 1</h1>
<div id="a-" class="section level2">
<h2 class="hasAnchor">
<a href="#a-" class="anchor"></a>1a.</h2>
<p>Drop the effect of smoke1 similarity and estimate the model again. Do this by the function setEffects() using the &lt;<include>&gt; parameter. Give the changed effects object and the new answer object new names, such as effects1 and ans1, to distinguish them.</include></p>
</div>
<div id="b-" class="section level2">
<h2 class="hasAnchor">
<a href="#b-" class="anchor"></a>1b.</h2>
<p>Change the three effects of alcohol to the single effect of alcohol similarity, and estimate again.</p>
</div>
</div>
<div id="networks-and-behavior-study" class="section level1">
<h1 class="hasAnchor">
<a href="#networks-and-behavior-study" class="anchor"></a>Networks and behavior study</h1>
<p>Now we redefine the role of alcohol drinking as a dependent behaviour variable.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="co"># Once again, look at the help file</span>
?<span class="no">sienaDependent</span>
<span class="co"># now paying special attention to the &lt;&lt;type&gt;&gt; parameter.</span>
<span class="no">drinking</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sienaDependent.html">sienaDependent</a></span>( <span class="no">drink</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="st">"behavior"</span> )</pre></body></html></div>
<p>Put the variables together in the data set for analysis</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">NBdata</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sienaDataCreate.html">sienaDataCreate</a></span>( <span class="no">friendship</span>, <span class="no">smoke1</span>, <span class="no">drinking</span> )
<span class="no">NBdata</span>
<span class="co">#&gt; Dependent variables:  friendship, drinking </span>
<span class="co">#&gt; Number of observations: 3 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Nodeset                  Actors </span>
<span class="co">#&gt; Number of nodes              50 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dependent variable friendship      </span>
<span class="co">#&gt; Type               oneMode         </span>
<span class="co">#&gt; Observations       3               </span>
<span class="co">#&gt; Nodeset            Actors          </span>
<span class="co">#&gt; Densities          0.046 0.047 0.05</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Dependent variable drinking</span>
<span class="co">#&gt; Type               behavior</span>
<span class="co">#&gt; Observations       3       </span>
<span class="co">#&gt; Nodeset            Actors  </span>
<span class="co">#&gt; Range              1 - 5   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Constant covariates:  smoke1</span>
<span class="no">NBeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/getEffects.html">getEffects</a></span>( <span class="no">NBdata</span> )
<span class="fu"><a href="../reference/effectsDocumentation.html">effectsDocumentation</a></span>(<span class="no">NBeff</span>)
<span class="no">NBeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">NBeff</span>, <span class="no">transTrip</span>, <span class="no">transRecTrip</span> )
<span class="co">#&gt;   effectName                  include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 transitive triplets         TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 2 transitive recipr. triplets TRUE    FALSE FALSE          0   0</span>
<span class="no">NBeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">NBeff</span>, <span class="no">egoX</span>, <span class="no">egoSqX</span>, <span class="no">altX</span>, <span class="no">altSqX</span>, <span class="no">diffSqX</span>,
                         <span class="kw">interaction1</span> <span class="kw">=</span> <span class="st">"drinking"</span> )
<span class="co">#&gt;   effectName             include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 drinking alter         TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 2 drinking squared alter TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 3 drinking ego           TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 4 drinking squared ego   TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 5 drinking diff. squared TRUE    FALSE FALSE          0   0</span>
<span class="no">NBeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">NBeff</span>, <span class="no">egoX</span>, <span class="no">altX</span>, <span class="no">simX</span>, <span class="kw">interaction1</span> <span class="kw">=</span> <span class="st">"smoke1"</span> )
<span class="co">#&gt;   effectName        include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 smoke1 alter      TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 2 smoke1 ego        TRUE    FALSE FALSE          0   0   </span>
<span class="co">#&gt; 3 smoke1 similarity TRUE    FALSE FALSE          0   0</span>
<span class="no">NBeff</span>
<span class="co">#&gt;    name       effectName                          include fix   test </span>
<span class="co">#&gt; 1  friendship constant friendship rate (period 1) TRUE    FALSE FALSE</span>
<span class="co">#&gt; 2  friendship constant friendship rate (period 2) TRUE    FALSE FALSE</span>
<span class="co">#&gt; 3  friendship outdegree (density)                 TRUE    FALSE FALSE</span>
<span class="co">#&gt; 4  friendship reciprocity                         TRUE    FALSE FALSE</span>
<span class="co">#&gt; 5  friendship transitive triplets                 TRUE    FALSE FALSE</span>
<span class="co">#&gt; 6  friendship transitive recipr. triplets         TRUE    FALSE FALSE</span>
<span class="co">#&gt; 7  friendship smoke1 alter                        TRUE    FALSE FALSE</span>
<span class="co">#&gt; 8  friendship smoke1 ego                          TRUE    FALSE FALSE</span>
<span class="co">#&gt; 9  friendship smoke1 similarity                   TRUE    FALSE FALSE</span>
<span class="co">#&gt; 10 friendship drinking alter                      TRUE    FALSE FALSE</span>
<span class="co">#&gt; 11 friendship drinking squared alter              TRUE    FALSE FALSE</span>
<span class="co">#&gt; 12 friendship drinking ego                        TRUE    FALSE FALSE</span>
<span class="co">#&gt; 13 friendship drinking squared ego                TRUE    FALSE FALSE</span>
<span class="co">#&gt; 14 friendship drinking diff. squared              TRUE    FALSE FALSE</span>
<span class="co">#&gt; 15 drinking   rate drinking (period 1)            TRUE    FALSE FALSE</span>
<span class="co">#&gt; 16 drinking   rate drinking (period 2)            TRUE    FALSE FALSE</span>
<span class="co">#&gt; 17 drinking   drinking linear shape               TRUE    FALSE FALSE</span>
<span class="co">#&gt; 18 drinking   drinking quadratic shape            TRUE    FALSE FALSE</span>
<span class="co">#&gt;    initialValue parm</span>
<span class="co">#&gt; 1     4.69604   0   </span>
<span class="co">#&gt; 2     4.32885   0   </span>
<span class="co">#&gt; 3    -1.46770   0   </span>
<span class="co">#&gt; 4     0.00000   0   </span>
<span class="co">#&gt; 5     0.00000   0   </span>
<span class="co">#&gt; 6     0.00000   0   </span>
<span class="co">#&gt; 7     0.00000   0   </span>
<span class="co">#&gt; 8     0.00000   0   </span>
<span class="co">#&gt; 9     0.00000   0   </span>
<span class="co">#&gt; 10    0.00000   0   </span>
<span class="co">#&gt; 11    0.00000   0   </span>
<span class="co">#&gt; 12    0.00000   0   </span>
<span class="co">#&gt; 13    0.00000   0   </span>
<span class="co">#&gt; 14    0.00000   0   </span>
<span class="co">#&gt; 15    0.70571   0   </span>
<span class="co">#&gt; 16    0.84939   0   </span>
<span class="co">#&gt; 17    0.32237   0   </span>
<span class="co">#&gt; 18    0.00000   0</span>
<span class="co"># For including effects also for the dependent behaviour variable, see</span>
?<span class="no">includeEffects</span>
<span class="no">NBeff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/includeEffects.html">includeEffects</a></span>( <span class="no">NBeff</span>, <span class="no">avAlt</span>, <span class="kw">name</span><span class="kw">=</span><span class="st">"drinking"</span>,
                         <span class="kw">interaction1</span> <span class="kw">=</span> <span class="st">"friendship"</span> )
<span class="co">#&gt;   effectName             include fix   test  initialValue parm</span>
<span class="co">#&gt; 1 drinking average alter TRUE    FALSE FALSE          0   0</span>
<span class="no">NBeff</span>
<span class="co">#&gt;    name       effectName                          include fix   test </span>
<span class="co">#&gt; 1  friendship constant friendship rate (period 1) TRUE    FALSE FALSE</span>
<span class="co">#&gt; 2  friendship constant friendship rate (period 2) TRUE    FALSE FALSE</span>
<span class="co">#&gt; 3  friendship outdegree (density)                 TRUE    FALSE FALSE</span>
<span class="co">#&gt; 4  friendship reciprocity                         TRUE    FALSE FALSE</span>
<span class="co">#&gt; 5  friendship transitive triplets                 TRUE    FALSE FALSE</span>
<span class="co">#&gt; 6  friendship transitive recipr. triplets         TRUE    FALSE FALSE</span>
<span class="co">#&gt; 7  friendship smoke1 alter                        TRUE    FALSE FALSE</span>
<span class="co">#&gt; 8  friendship smoke1 ego                          TRUE    FALSE FALSE</span>
<span class="co">#&gt; 9  friendship smoke1 similarity                   TRUE    FALSE FALSE</span>
<span class="co">#&gt; 10 friendship drinking alter                      TRUE    FALSE FALSE</span>
<span class="co">#&gt; 11 friendship drinking squared alter              TRUE    FALSE FALSE</span>
<span class="co">#&gt; 12 friendship drinking ego                        TRUE    FALSE FALSE</span>
<span class="co">#&gt; 13 friendship drinking squared ego                TRUE    FALSE FALSE</span>
<span class="co">#&gt; 14 friendship drinking diff. squared              TRUE    FALSE FALSE</span>
<span class="co">#&gt; 15 drinking   rate drinking (period 1)            TRUE    FALSE FALSE</span>
<span class="co">#&gt; 16 drinking   rate drinking (period 2)            TRUE    FALSE FALSE</span>
<span class="co">#&gt; 17 drinking   drinking linear shape               TRUE    FALSE FALSE</span>
<span class="co">#&gt; 18 drinking   drinking quadratic shape            TRUE    FALSE FALSE</span>
<span class="co">#&gt; 19 drinking   drinking average alter              TRUE    FALSE FALSE</span>
<span class="co">#&gt;    initialValue parm</span>
<span class="co">#&gt; 1     4.69604   0   </span>
<span class="co">#&gt; 2     4.32885   0   </span>
<span class="co">#&gt; 3    -1.46770   0   </span>
<span class="co">#&gt; 4     0.00000   0   </span>
<span class="co">#&gt; 5     0.00000   0   </span>
<span class="co">#&gt; 6     0.00000   0   </span>
<span class="co">#&gt; 7     0.00000   0   </span>
<span class="co">#&gt; 8     0.00000   0   </span>
<span class="co">#&gt; 9     0.00000   0   </span>
<span class="co">#&gt; 10    0.00000   0   </span>
<span class="co">#&gt; 11    0.00000   0   </span>
<span class="co">#&gt; 12    0.00000   0   </span>
<span class="co">#&gt; 13    0.00000   0   </span>
<span class="co">#&gt; 14    0.00000   0   </span>
<span class="co">#&gt; 15    0.70571   0   </span>
<span class="co">#&gt; 16    0.84939   0   </span>
<span class="co">#&gt; 17    0.32237   0   </span>
<span class="co">#&gt; 18    0.00000   0   </span>
<span class="co">#&gt; 19    0.00000   0</span>
<span class="co"># Define an algorithm with a new project name</span>
<span class="no">myalgorithm1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sienaAlgorithmCreate.html">sienaAlgorithmCreate</a></span>( <span class="kw">projname</span> <span class="kw">=</span> <span class="st">'s50_NB'</span> )
<span class="co">#&gt; If you use this algorithm object, siena07 will create an output file s50_NB.txt .</span>

<span class="co"># Estimate again, using the second algorithm right from the start.</span>
<span class="no">NBans</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siena07.html">siena07</a></span>( <span class="no">myalgorithm1</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">NBdata</span>, <span class="kw">effects</span> <span class="kw">=</span> <span class="no">NBeff</span>)
<span class="co"># You may improve convergence (considering the overall maximum</span>
<span class="co"># convergence ratio) by repeated estimation in the same way as above.</span>

<span class="co"># Look at results</span>
<span class="no">NBans</span>
<span class="co">#&gt; Estimates, standard errors and convergence t-ratios</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                                Estimate   Standard   Convergence </span>
<span class="co">#&gt;                                                             Error      t-ratio   </span>
<span class="co">#&gt; Network Dynamics </span>
<span class="co">#&gt;    1. rate constant friendship rate (period 1)  6.3499  ( 1.1178   )    0.0648   </span>
<span class="co">#&gt;    2. rate constant friendship rate (period 2)  5.0626  ( 0.8966   )    0.0202   </span>
<span class="co">#&gt;    3. eval outdegree (density)                 -2.8261  ( 0.2268   )    0.0253   </span>
<span class="co">#&gt;    4. eval reciprocity                          2.8186  ( 0.3211   )    0.0353   </span>
<span class="co">#&gt;    5. eval transitive triplets                  0.8949  ( 0.1427   )    0.0403   </span>
<span class="co">#&gt;    6. eval transitive recipr. triplets         -0.5057  ( 0.2207   )    0.0546   </span>
<span class="co">#&gt;    7. eval smoke1 alter                         0.0694  ( 0.1537   )   -0.0021   </span>
<span class="co">#&gt;    8. eval smoke1 ego                          -0.0045  ( 0.1559   )    0.0346   </span>
<span class="co">#&gt;    9. eval smoke1 similarity                    0.2516  ( 0.2692   )    0.0034   </span>
<span class="co">#&gt;   10. eval drinking alter                      -0.0634  ( 0.1202   )   -0.0219   </span>
<span class="co">#&gt;   11. eval drinking squared alter              -0.1103  ( 0.1370   )    0.0382   </span>
<span class="co">#&gt;   12. eval drinking ego                         0.0427  ( 0.1097   )    0.0048   </span>
<span class="co">#&gt;   13. eval drinking squared ego                 0.2241  ( 0.1011   )    0.0455   </span>
<span class="co">#&gt;   14. eval drinking diff. squared              -0.1030  ( 0.0522   )    0.0310   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Behavior Dynamics</span>
<span class="co">#&gt;   15. rate rate drinking (period 1)             1.3226  ( 0.3791   )    0.0258   </span>
<span class="co">#&gt;   16. rate rate drinking (period 2)             1.7977  ( 0.5706   )    0.0379   </span>
<span class="co">#&gt;   17. eval drinking linear shape                0.4097  ( 0.2380   )    0.0080   </span>
<span class="co">#&gt;   18. eval drinking quadratic shape            -0.5566  ( 0.3741   )   -0.0180   </span>
<span class="co">#&gt;   19. eval drinking average alter               1.2267  ( 0.9401   )   -0.0456   </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Overall maximum convergence ratio:    0.1593 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total of 3649 iteration steps.</span>
<span class="co"># Make a nicer listing of the results</span>
<span class="fu"><a href="../reference/sienaFit.html">siena.table</a></span>(<span class="no">NBans</span>, <span class="kw">type</span><span class="kw">=</span><span class="st">"html"</span>, <span class="kw">sig</span><span class="kw">=</span><span class="fl">TRUE</span>)</pre></body></html></div>
<p>This produces an html file; siena.table can also produce a LaTeX file. But the current version (2.12) does not do this well for html.</p>
</div>
<div id="assignment-2" class="section level1">
<h1 class="hasAnchor">
<a href="#assignment-2" class="anchor"></a>Assignment 2</h1>
<div id="a--1" class="section level2">
<h2 class="hasAnchor">
<a href="#a--1" class="anchor"></a>2a.</h2>
<p>Replace the average alter effect by average similarity (avSim) or total similarity (totSim) and estimate the model again.</p>
</div>
<div id="b--1" class="section level2">
<h2 class="hasAnchor">
<a href="#b--1" class="anchor"></a>2b.</h2>
<p>Add the effect of smoking on drinking and estimate again.</p>
</div>
</div>
<div id="assignment-3" class="section level1">
<h1 class="hasAnchor">
<a href="#assignment-3" class="anchor"></a>Assignment 3</h1>
<p>Read Sections 13.3 and 13.4 of the Siena Manual, download scripts <code>SelectionTables.r</code> and <code>InfluenceTables.r</code> from the Siena website, and make plots of the selection table and influence table for drinking.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tom Snijders, Christian Steglich, Johan Koskinen, Christoph Stadtfeld, James Hollway, Per Block, Nynke Niezink, Viviana Amati, Robert Krause.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
