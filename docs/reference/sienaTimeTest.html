<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Functions to assess and account for time heterogeneity of parameters — sienaTimeTest • RSiena</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Functions to assess and account for time heterogeneity of parameters — sienaTimeTest" />
<meta property="og:description" content="Takes a sienaFit object estimated by Method of Moments,
 and tests for time heterogeneity by the addition of interactions with
 time dummy variables at waves m=2...(M-1).
 The test used is the score-type test of Schweinberger (2012).
 Tests for joint significance, parameter-wise significance,
 period-wise significance, individual significance, and one-step
 estimates of the unrestricted model parameters are returned in a list." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RSiena</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2-25</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">In the package</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/snlab-nl/rsiena">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Functions to assess and account for time heterogeneity of parameters</h1>
    
    <div class="hidden name"><code>sienaTimeTest.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes a <code>sienaFit</code> object estimated by Method of Moments,
 and tests for time heterogeneity by the addition of interactions with
 time dummy variables at waves <code>m=2...(M-1)</code>.
 The test used is the score-type test of Schweinberger (2012).
 Tests for joint significance, parameter-wise significance,
 period-wise significance, individual significance, and one-step
 estimates of the unrestricted model parameters are returned in a list.</p>
    </div>

    <pre class="usage"><span class='fu'>sienaTimeTest</span>(<span class='no'>sienaFit</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>excludedEffects</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>condition</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sienaFit</th>
      <td><p>A <code>sienaFit</code> object returned by <code>siena07</code>.</p></td>
    </tr>
    <tr>
      <th>effects</th>
      <td><p>Optional vector of effect numbers to test. Use the
  numbering on the print of the sienaFit object.</p></td>
    </tr>
    <tr>
      <th>excludedEffects</th>
      <td><p>Optional vector of effect numbers
  for which time heterogeneity is not to be tested. Use the
  numbering on the print of the sienaFit object.</p></td>
    </tr>
    <tr>
      <th>condition</th>
      <td><p>Whether to orthogonalize effect-wise score-type tests
  and individual significance tests against estimated effects
  and un-estimated dummy terms, or just against estimated effects.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This test follows the score type test of Schweinberger (2012) as
 elaborated by Lospinoso et al. (2011) by using statistics already
 calculated at each wave to obtain vectors of partitioned moment
 functions corresponding to a restricted model (the model in the
 <code>sienaFit</code> object; used as null hypothesis) and an
 unrestricted model (which contains dummies for waves
 <code>m=2...(M-1)</code>; used as alternative hypothesis).</p>
<p><code>condition=TRUE</code> leads to a rough-and-easy approximation to
 controlling the mentioned tests also for the unestimated effects.</p>
<p>After assessing time heterogeneity, effects objects can be modified by
 adding numbers of all or some periods to the <code>timeDummy</code> column.
 This is facilitated by the <code><a href='includeTimeDummy.html'>includeTimeDummy</a></code> function.
 For an effects object in which the <code>timeDummy</code> column
 of some of the included effects includes some or all period numbers,
 interactions of those effects  with time dummies for the indicated
 periods will also be estimated.</p>
<p>An alternative to the use of <code><a href='includeTimeDummy.html'>includeTimeDummy</a></code>
 is to define time-dependent actor covariates (dummy variables or other
 functions of wave number that are the same for all actors),
 include these in the data set through <code><a href='sienaAlgorithmCreate.html'>sienaAlgorithmCreate</a></code>,
 and include interactions of other effects with ego effects of these
 time-dependent actor covariates by <code><a href='includeInteraction.html'>includeInteraction</a></code>.
 This is illustrated in an example below.
 Using <code><a href='includeTimeDummy.html'>includeTimeDummy</a></code> is easier;
 using self-defined interactions with time-dependent variables
 gives more control.</p>
<p>If you wish to use this function with <code>sienaFit</code> objects that use the
 finite differences method of derivative estimation, or which use maximum
 likelihood estimation, you must request the derivatives to be returned
 by wave using the <code>byWave=TRUE</code> option for <code><a href='siena07.html'>siena07</a></code>.</p>
<p>Effects leading to dummy interactions that are collinear with the
 model originally fitted, after excluding the effects mentioned,
 will be automatically excluded from the time heterogeneity testing.</p>
<p>If <code>sienaTimeTest</code> gives errors that there are too
 many collinear effects, run it with a smaller set of effects as specified
 by the <code>effects</code> parameter.
 For example, if the model has 40 effects of which the
 first 8 are rate parameters and therefore uninteresting,
 and there is such an error message, try <code>effects=9:30</code>;
 if that still does not work, decrease the upper limit of 30, if it does work
 increase it, to find the largest possible set of effects for which
 heterogeneity assessment still is possible; then as a next step
 try the remaining effects in a similar way.</p>
<p>Also if the execution is time-consuming, e.g., for a multi-group
 <code>sienaFit</code> object with many groups and many effects,
 it can be helpful to carry out the function in smaller subsets of effects.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>sienaTimeTest</code> returns a list containing many items,
    including the following:</p>
<dt>JointTest </dt><dd><p>A chi-squared test for joint significance of the dummies.</p></dd>
  <dt>EffectTest </dt><dd><p>A chi-squared test for joint significance
      across dummies for each separate effect.</p></dd>
  <dt>GroupTest </dt><dd><p>A chi-squared test for joint significance
      across dummies; if <code>sienaFit</code> is a fit for a multi-group object
      then these refer to each group; else they refer to ecah period.</p></dd>
  <dt>IndividualTest </dt><dd><p>A matrix displaying initial estimates, one-step
    estimates, and \(p\)-values for the individual interactions.</p></dd>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>See <a href='http://www.stats.ox.ac.uk/~snijders/siena/'>http://www.stats.ox.ac.uk/~snijders/siena/</a>
  for general information on RSiena.</p>
<p>J.A. Lospinoso, M. Schweinberger, T.A.B. Snijders, and R.M. Ripley
(2011). Assessing and Accounting for Time Heterogeneity in Stochastic
Actor Oriented Models. <em>Advances in Data Analysis and Computation</em>,
5:147-176.</p>
<p>M. Schweinberger (2012). Statistical modeling of network panel data:
Goodness-of-fit. <em>British Journal of Statistical 
and Mathematical Psychology</em> <b>65</b>, 263--281.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='siena07.html'>siena07</a></code>, <code><a href='plot.sienaTimeTest.html'>plot.sienaTimeTest</a></code>,
  <code><a href='includeTimeDummy.html'>includeTimeDummy</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Estimate a restricted model</span>
<span class='no'>myalgorithm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaAlgorithmCreate.html'>sienaAlgorithmCreate</a></span>(<span class='kw'>nsub</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>n3</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>projname</span><span class='kw'>=</span><span class='kw'>NULL</span>)</div><div class='output co'>#&gt; If you use this algorithm object, siena07 will create an output file /var/folders/pl/ngry9kn13p7466xwk0_2xyh40000gn/T//RtmpBuM5HN/Siena344e2a841d7b.txt .
#&gt; This is a temporary file for this R session.</div><div class='input'><span class='co'># Short estimation not for practice, just for having a quick demonstration</span>
<span class='no'>mynet1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDependent.html'>sienaDependent</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>s501</span>, <span class='no'>s502</span>, <span class='no'>s503</span>), <span class='kw'>dim</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>50</span>, <span class='fl'>50</span>, <span class='fl'>3</span>)))
<span class='no'>mydata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDataCreate.html'>sienaDataCreate</a></span>(<span class='no'>mynet1</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getEffects.html'>getEffects</a></span>(<span class='no'>mydata</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>transTrip</span>)</div><div class='output co'>#&gt;   effectName          include fix   test  initialValue parm
#&gt; 1 transitive triplets TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='no'>ans</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='siena07.html'>siena07</a></span>(<span class='no'>myalgorithm</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>mydata</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='no'>myeff</span>, <span class='kw'>batch</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; 
#&gt; Start phase 0 
#&gt; theta: -1.47  0.00  0.00 
#&gt; 
#&gt; Start phase 1 
#&gt; Phase 1 Iteration 1 Progress: 0%
#&gt; Phase 1 Iteration 2 Progress: 0%
#&gt; Phase 1 Iteration 3 Progress: 1%
#&gt; Phase 1 Iteration 4 Progress: 1%
#&gt; Phase 1 Iteration 5 Progress: 1%
#&gt; Phase 1 Iteration 10 Progress: 2%
#&gt; Phase 1 Iteration 15 Progress: 3%
#&gt; Phase 1 Iteration 20 Progress: 4%
#&gt; Phase 1 Iteration 25 Progress: 5%
#&gt; Phase 1 Iteration 30 Progress: 6%
#&gt; Phase 1 Iteration 35 Progress: 7%
#&gt; Phase 1 Iteration 40 Progress: 8%
#&gt; Phase 1 Iteration 45 Progress: 9%
#&gt; Phase 1 Iteration 50 Progress: 11%
#&gt; theta: -1.732  0.319  0.257 
#&gt; 
#&gt; Start phase 2.1
#&gt; Phase 2 Subphase 1 Iteration 1 Progress: 42%
#&gt; Phase 2 Subphase 1 Iteration 2 Progress: 43%
#&gt; theta -1.821  0.480  0.363 
#&gt; ac 1.64 1.12 1.08 
#&gt; Phase 2 Subphase 1 Iteration 3 Progress: 43%
#&gt; Phase 2 Subphase 1 Iteration 4 Progress: 43%
#&gt; theta -2.111  0.984  0.700 
#&gt; ac 0.357 1.238 0.817 
#&gt; Phase 2 Subphase 1 Iteration 5 Progress: 43%
#&gt; Phase 2 Subphase 1 Iteration 6 Progress: 43%
#&gt; theta -2.394  1.716  0.743 
#&gt; ac 0.541 1.233 0.745 
#&gt; Phase 2 Subphase 1 Iteration 7 Progress: 44%
#&gt; Phase 2 Subphase 1 Iteration 8 Progress: 44%
#&gt; theta -2.537  2.206  0.689 
#&gt; ac 0.252 1.159 0.522 
#&gt; Phase 2 Subphase 1 Iteration 9 Progress: 44%
#&gt; Phase 2 Subphase 1 Iteration 10 Progress: 44%
#&gt; theta -2.712  2.531  0.685 
#&gt; ac 0.261 1.100 0.377 
#&gt; theta -2.696  2.464  0.621 
#&gt; ac -0.24270 -0.00443 -0.41906 
#&gt; theta: -2.696  2.464  0.621 
#&gt; 
#&gt; Start phase 3 </div><div class='input'>
<span class='co'>## Conduct the score-type test to assess whether heterogeneity is present.</span>
<span class='no'>tt</span> <span class='kw'>&lt;-</span> <span class='fu'>sienaTimeTest</span>(<span class='no'>ans</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>tt</span>)</div><div class='output co'>#&gt; Joint significance test of time heterogeneity:
#&gt; chi-squared =   3.69, d.f. = 3, p= 0.2973, 
#&gt; where H0: The following parameters are zero:
#&gt;  (1) (*)Dummy2:outdegree (density)
#&gt;  (2) (*)Dummy2:reciprocity
#&gt;  (3) (*)Dummy2:transitive triplets
#&gt; 
#&gt; Individual significance tests and one-step estimators:
#&gt;                               Initial Est. One Step Est. p-Value
#&gt; outdegree (density)           -2.6960      -2.5004        0.0000
#&gt; reciprocity                    2.4642       2.2196        0.0000
#&gt; transitive triplets            0.6209       0.5629        0.0000
#&gt; (*)Dummy2:outdegree (density)  0.0000      -0.3707        0.6020
#&gt; (*)Dummy2:reciprocity          0.0000       0.4797        0.1910
#&gt; (*)Dummy2:transitive triplets  0.0000       0.1453        0.3200
#&gt; 
#&gt; Effect-wise joint significance tests
#&gt; (i.e. each effect across all dummies):
#&gt;                     chi-sq. df p-value
#&gt; outdegree (density)    0.27  1   0.603
#&gt; reciprocity            1.71  1   0.191
#&gt; transitive triplets    0.99  1   0.320
#&gt; 
#&gt; Period-wise joint significance tests
#&gt; (i.e. each period across all parameters):
#&gt;          chi-sq. df p-value
#&gt; Period 1    3.69  3   0.297
#&gt; Period 2    3.69  3   0.297
#&gt; 
#&gt; Use the following indices for plotting:
#&gt;   (1) outdegree (density)
#&gt;   (2) reciprocity
#&gt;   (3) transitive triplets
#&gt; 
#&gt; If you would like to fit time dummies to your model,
#&gt; use the includeTimeDummy function.
#&gt; Type "?sienaTimeTest" for more information on this output.</div><div class='input'>
<span class='co'>## Suppose that we wish to include time dummies.</span>
<span class='co'>## Add them in the following way:</span>
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeTimeDummy.html'>includeTimeDummy</a></span>(<span class='no'>myeff</span>, <span class='no'>recip</span>, <span class='no'>transTrip</span>, <span class='kw'>timeDummy</span><span class='kw'>=</span><span class='st'>"2"</span>)</div><div class='output co'>#&gt;                     name          effectName                  functionName
#&gt; mynet1.obj.eval.2 mynet1         reciprocity   Number of reciprocated ties
#&gt; mynet1.obj.eval.3 mynet1 transitive triplets Number of transitive triplets
#&gt;                   shortName interaction1 interaction2 type basicRate include
#&gt; mynet1.obj.eval.2     recip                           eval     FALSE    TRUE
#&gt; mynet1.obj.eval.3 transTrip                           eval     FALSE    TRUE
#&gt;                   randomEffects   fix  test timeDummy initialValue parm
#&gt; mynet1.obj.eval.2         FALSE FALSE FALSE         2            0    0
#&gt; mynet1.obj.eval.3         FALSE FALSE FALSE         2            0    0
#&gt;                   functionType period rateType untrimmedValue effect1 effect2
#&gt; mynet1.obj.eval.2    objective   &lt;NA&gt;     &lt;NA&gt;              0       0       0
#&gt; mynet1.obj.eval.3    objective   &lt;NA&gt;     &lt;NA&gt;              0       0       0
#&gt;                   effect3 interactionType local setting effectFn statisticFn
#&gt; mynet1.obj.eval.2       0          dyadic  TRUE             NULL        NULL
#&gt; mynet1.obj.eval.3       0                  TRUE             NULL        NULL
#&gt;                   netType groupName group effectNumber
#&gt; mynet1.obj.eval.2 oneMode    Group1     1           11
#&gt; mynet1.obj.eval.3 oneMode    Group1     1           14</div><div class='input'><span class='no'>ans2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='siena07.html'>siena07</a></span>(<span class='no'>myalgorithm</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>mydata</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='no'>myeff</span>, <span class='kw'>batch</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; 
#&gt; Start phase 0 
#&gt; theta: -1.47  0.00  0.00  0.00  0.00  0.00 
#&gt; 
#&gt; Start phase 1 
#&gt; Phase 1 Iteration 1 Progress: 0%
#&gt; Phase 1 Iteration 2 Progress: 0%
#&gt; Phase 1 Iteration 3 Progress: 0%
#&gt; Phase 1 Iteration 4 Progress: 1%
#&gt; Phase 1 Iteration 5 Progress: 1%
#&gt; Phase 1 Iteration 10 Progress: 2%
#&gt; Phase 1 Iteration 15 Progress: 2%
#&gt; Phase 1 Iteration 20 Progress: 3%
#&gt; Phase 1 Iteration 25 Progress: 4%
#&gt; Phase 1 Iteration 30 Progress: 5%
#&gt; Phase 1 Iteration 35 Progress: 6%
#&gt; Phase 1 Iteration 40 Progress: 6%
#&gt; Phase 1 Iteration 45 Progress: 7%
#&gt; Phase 1 Iteration 50 Progress: 8%
#&gt; theta: -1.7382  0.2963  0.3177  0.0000  0.0666  0.0132 
#&gt; 
#&gt; Start phase 2.1
#&gt; Phase 2 Subphase 1 Iteration 1 Progress: 56%
#&gt; Phase 2 Subphase 1 Iteration 2 Progress: 56%
#&gt; theta -1.8534  0.4871  0.4668  0.0000  0.1150  0.0477 
#&gt; ac 0.563 1.144 1.496 2.226 3.173 6.592 
#&gt; Phase 2 Subphase 1 Iteration 3 Progress: 56%
#&gt; Phase 2 Subphase 1 Iteration 4 Progress: 56%
#&gt; theta -2.23499  1.22215  0.88051  0.00000  0.33326 -0.00267 
#&gt; ac 0.494 1.237 0.344 3.803 0.913 1.251 
#&gt; Phase 2 Subphase 1 Iteration 5 Progress: 56%
#&gt; Phase 2 Subphase 1 Iteration 6 Progress: 56%
#&gt; theta -2.427  1.992  0.736  0.000  0.606 -0.246 
#&gt; ac  0.528  0.862  0.270 -2.449 -0.925 -1.047 
#&gt; Phase 2 Subphase 1 Iteration 7 Progress: 56%
#&gt; Phase 2 Subphase 1 Iteration 8 Progress: 57%
#&gt; theta -2.502  2.381  0.523  0.000  0.454  0.113 
#&gt; ac  0.4960  0.8197  0.2465  0.0921 -0.4942 -1.2642 
#&gt; Phase 2 Subphase 1 Iteration 9 Progress: 57%
#&gt; Phase 2 Subphase 1 Iteration 10 Progress: 57%
#&gt; theta -2.5983  2.5943  0.5094  0.0000  0.3431 -0.0993 
#&gt; ac  0.416  0.746  0.117  0.138 -0.525 -1.363 
#&gt; theta -2.7214  2.5379  0.6212  0.0000  0.2160  0.0321 
#&gt; ac -0.33060 -0.03012 -0.52706  0.00564 -0.42709 -0.39023 
#&gt; theta: -2.7214  2.5379  0.6212  0.0000  0.2160  0.0321 
#&gt; 
#&gt; Start phase 3 </div><div class='input'>
<span class='co'>## Re-assess the time heterogeneity</span>
(<span class='no'>tt2</span> <span class='kw'>&lt;-</span> <span class='fu'>sienaTimeTest</span>(<span class='no'>ans2</span>))</div><div class='output co'>#&gt; Joint significance test of time heterogeneity:
#&gt; chi-squared =   2.11, d.f. = 1, p= 0.1461, 
#&gt; where H0: The following parameters are zero:
#&gt;  (1) (*)Dummy2:outdegree (density)</div><div class='input'>
<span class='co'>## And so on..</span>

<span class='co'>## A demonstration of the plotting facilities, on a larger dataset:</span>
<span class='co'>## (Of course pasting these identical sets of three waves after each other</span>
<span class='co'>##  in a sequence of six is not really meaningful. It's just a demonstration.)</span>

<span class='no'>myalgorithm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaAlgorithmCreate.html'>sienaAlgorithmCreate</a></span>(<span class='kw'>nsub</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>n3</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>seed</span><span class='kw'>=</span><span class='fl'>654</span>, <span class='kw'>projname</span><span class='kw'>=</span><span class='kw'>NULL</span>)</div><div class='output co'>#&gt; If you use this algorithm object, siena07 will create an output file /var/folders/pl/ngry9kn13p7466xwk0_2xyh40000gn/T//RtmpBuM5HN/Siena344e47ab8c0b.txt .
#&gt; This is a temporary file for this R session.</div><div class='input'><span class='no'>mynet1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDependent.html'>sienaDependent</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>s501</span>, <span class='no'>s502</span>, <span class='no'>s503</span>, <span class='no'>s501</span>, <span class='no'>s503</span>, <span class='no'>s502</span>),
                               <span class='kw'>dim</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>50</span>, <span class='fl'>50</span>, <span class='fl'>6</span>)))
<span class='no'>mydata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDataCreate.html'>sienaDataCreate</a></span>(<span class='no'>mynet1</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getEffects.html'>getEffects</a></span>(<span class='no'>mydata</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>transTrip</span>, <span class='no'>balance</span>)</div><div class='output co'>#&gt;   effectName          include fix   test  initialValue parm
#&gt; 1 transitive triplets TRUE    FALSE FALSE          0   0   
#&gt; 2 balance             TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeTimeDummy.html'>includeTimeDummy</a></span>(<span class='no'>myeff</span>, <span class='no'>density</span>, <span class='kw'>timeDummy</span><span class='kw'>=</span><span class='st'>"all"</span>)</div><div class='output co'>#&gt;                     name          effectName   functionName shortName
#&gt; mynet1.obj.eval.1 mynet1 outdegree (density) Number of ties   density
#&gt;                   interaction1 interaction2 type basicRate include
#&gt; mynet1.obj.eval.1                           eval     FALSE    TRUE
#&gt;                   randomEffects   fix  test timeDummy initialValue parm
#&gt; mynet1.obj.eval.1          TRUE FALSE FALSE       all    -1.490548    0
#&gt;                   functionType period rateType untrimmedValue effect1 effect2
#&gt; mynet1.obj.eval.1    objective   &lt;NA&gt;     &lt;NA&gt;      -1.490548       0       0
#&gt;                   effect3 interactionType local setting effectFn statisticFn
#&gt; mynet1.obj.eval.1       0          dyadic  TRUE             NULL        NULL
#&gt;                   netType groupName group effectNumber
#&gt; mynet1.obj.eval.1 oneMode    Group1     1           11</div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeTimeDummy.html'>includeTimeDummy</a></span>(<span class='no'>myeff</span>, <span class='no'>recip</span>, <span class='kw'>timeDummy</span><span class='kw'>=</span><span class='st'>"2,3,5"</span>)</div><div class='output co'>#&gt;                     name  effectName                functionName shortName
#&gt; mynet1.obj.eval.2 mynet1 reciprocity Number of reciprocated ties     recip
#&gt;                   interaction1 interaction2 type basicRate include
#&gt; mynet1.obj.eval.2                           eval     FALSE    TRUE
#&gt;                   randomEffects   fix  test timeDummy initialValue parm
#&gt; mynet1.obj.eval.2         FALSE FALSE FALSE     2,3,5            0    0
#&gt;                   functionType period rateType untrimmedValue effect1 effect2
#&gt; mynet1.obj.eval.2    objective   &lt;NA&gt;     &lt;NA&gt;              0       0       0
#&gt;                   effect3 interactionType local setting effectFn statisticFn
#&gt; mynet1.obj.eval.2       0          dyadic  TRUE             NULL        NULL
#&gt;                   netType groupName group effectNumber
#&gt; mynet1.obj.eval.2 oneMode    Group1     1           14</div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeTimeDummy.html'>includeTimeDummy</a></span>(<span class='no'>myeff</span>, <span class='no'>balance</span>, <span class='kw'>timeDummy</span><span class='kw'>=</span><span class='st'>"4"</span>)</div><div class='output co'>#&gt;                      name effectName      functionName shortName interaction1
#&gt; mynet1.obj.eval.12 mynet1    balance Amount of balance   balance             
#&gt;                    interaction2 type basicRate include randomEffects   fix
#&gt; mynet1.obj.eval.12              eval     FALSE    TRUE         FALSE FALSE
#&gt;                     test timeDummy initialValue parm functionType period
#&gt; mynet1.obj.eval.12 FALSE         4            0    0    objective   &lt;NA&gt;
#&gt;                    rateType untrimmedValue effect1 effect2 effect3
#&gt; mynet1.obj.eval.12     &lt;NA&gt;              0       0       0       0
#&gt;                    interactionType local setting effectFn statisticFn netType
#&gt; mynet1.obj.eval.12                 FALSE             NULL        NULL oneMode
#&gt;                    groupName group effectNumber
#&gt; mynet1.obj.eval.12    Group1     1           42</div><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
(<span class='no'>ansp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='siena07.html'>siena07</a></span>(<span class='no'>myalgorithm</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>mydata</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='no'>myeff</span>, <span class='kw'>batch</span><span class='kw'>=</span><span class='fl'>TRUE</span>))
<span class='no'>ttp</span> <span class='kw'>&lt;-</span> <span class='fu'>sienaTimeTest</span>(<span class='no'>ansp</span>)

<span class='co'>## Pairwise plots show</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>ttp</span>, <span class='kw'>pairwise</span><span class='kw'>=</span><span class='fl'>TRUE</span>)

<span class='co'>## Time test plots show</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>ttp</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>4</span>, <span class='kw'>dims</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>,<span class='fl'>2</span>))
}

<span class='co'>## Instead of working with includeTimeDummy,</span>
<span class='co'>## you can also define time dummies explicitly;</span>
<span class='co'>## this may give more control and more clarity:</span>
<span class='no'>dum2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>), <span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>dum3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>), <span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>dum4</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>), <span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>dum5</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>), <span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>time2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='varCovar.html'>varCovar</a></span>(<span class='no'>dum2</span>)
<span class='no'>time3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='varCovar.html'>varCovar</a></span>(<span class='no'>dum3</span>)
<span class='no'>time4</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='varCovar.html'>varCovar</a></span>(<span class='no'>dum4</span>)
<span class='no'>time5</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='varCovar.html'>varCovar</a></span>(<span class='no'>dum5</span>)
<span class='no'>mydata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDataCreate.html'>sienaDataCreate</a></span>(<span class='no'>mynet1</span>, <span class='no'>time2</span>, <span class='no'>time3</span>, <span class='no'>time4</span>, <span class='no'>time5</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getEffects.html'>getEffects</a></span>(<span class='no'>mydata</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>transTrip</span>, <span class='no'>balance</span>)</div><div class='output co'>#&gt;   effectName          include fix   test  initialValue parm
#&gt; 1 transitive triplets TRUE    FALSE FALSE          0   0   
#&gt; 2 balance             TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='co'>## corresponding to includeTimeDummy(myeff, density, timeDummy="all"):</span>
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='st'>'time2'</span>)</div><div class='output co'>#&gt;   effectName include fix   test  initialValue parm
#&gt; 1 time2 ego  TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='st'>'time3'</span>)</div><div class='output co'>#&gt;   effectName include fix   test  initialValue parm
#&gt; 1 time3 ego  TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='st'>'time4'</span>)</div><div class='output co'>#&gt;   effectName include fix   test  initialValue parm
#&gt; 1 time4 ego  TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='st'>'time5'</span>)</div><div class='output co'>#&gt;   effectName include fix   test  initialValue parm
#&gt; 1 time5 ego  TRUE    FALSE FALSE          0   0   </div><div class='input'><span class='co'>## corresponding to myeff &lt;- includeTimeDummy(myeff, recip, timeDummy="2,3,5"):</span>
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeInteraction.html'>includeInteraction</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='no'>recip</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'time2'</span>, <span class='st'>''</span>))</div><div class='output co'>#&gt;   effectName                     include fix   test  initialValue parm effect1
#&gt; 1 unspecified interaction effect TRUE    FALSE FALSE          0   0    185    
#&gt;   effect2
#&gt; 1 18     </div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeInteraction.html'>includeInteraction</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='no'>recip</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'time3'</span>, <span class='st'>''</span>))</div><div class='output co'>#&gt;   effectName                     include fix   test  initialValue parm effect1
#&gt; 1 unspecified interaction effect TRUE    FALSE FALSE          0   0    339    
#&gt;   effect2
#&gt; 1 18     </div><div class='input'><span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeInteraction.html'>includeInteraction</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='no'>recip</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'time5'</span>, <span class='st'>''</span>))</div><div class='output co'>#&gt;   effectName                     include fix   test  initialValue parm effect1
#&gt; 1 unspecified interaction effect TRUE    FALSE FALSE          0   0    647    
#&gt;   effect2
#&gt; 1 18     </div><div class='input'><span class='co'>## corresponding to myeff &lt;- includeTimeDummy(myeff, balance, timeDummy="4"):</span>
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeInteraction.html'>includeInteraction</a></span>(<span class='no'>myeff</span>, <span class='no'>egoX</span>, <span class='no'>balance</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'time4'</span>, <span class='st'>''</span>))</div><div class='output co'>#&gt;   effectName                     include fix   test  initialValue parm effect1
#&gt; 1 unspecified interaction effect TRUE    FALSE FALSE          0   0    493    
#&gt;   effect2
#&gt; 1 46     </div><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
(<span class='no'>anspp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='siena07.html'>siena07</a></span>(<span class='no'>myalgorithm</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>mydata</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='no'>myeff</span>, <span class='kw'>batch</span><span class='kw'>=</span><span class='fl'>TRUE</span>))
<span class='co'>## anspp contains identical results as ansp above.</span>
}

<span class='co'>## A demonstration of RateX heterogeneity. Note that rate interactions are</span>
<span class='co'>## not implemented in general, just for Rate x cCovar.</span>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>myalgorithm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaAlgorithmCreate.html'>sienaAlgorithmCreate</a></span>(<span class='kw'>nsub</span><span class='kw'>=</span><span class='fl'>4</span>, <span class='kw'>n3</span><span class='kw'>=</span><span class='fl'>1000</span>)
<span class='no'>mynet1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDependent.html'>sienaDependent</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>s501</span>, <span class='no'>s502</span>, <span class='no'>s503</span>), <span class='kw'>dim</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>50</span>, <span class='fl'>50</span>, <span class='fl'>3</span>)))
<span class='no'>myccov</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='coCovar.html'>coCovar</a></span>(<span class='no'>s50a</span>[,<span class='fl'>1</span>])
<span class='no'>mydata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sienaDataCreate.html'>sienaDataCreate</a></span>(<span class='no'>mynet1</span>, <span class='no'>myccov</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getEffects.html'>getEffects</a></span>(<span class='no'>mydata</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeEffects.html'>includeEffects</a></span>(<span class='no'>myeff</span>, <span class='no'>transTrip</span>, <span class='no'>balance</span>)
<span class='no'>myeff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='includeTimeDummy.html'>includeTimeDummy</a></span>(<span class='no'>myeff</span>, <span class='no'>RateX</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"rate"</span>, <span class='kw'>interaction1</span><span class='kw'>=</span><span class='st'>"myccov"</span>)
<span class='no'>ans</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='siena07.html'>siena07</a></span>(<span class='no'>myalgorithm</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>mydata</span>, <span class='kw'>effects</span><span class='kw'>=</span><span class='no'>myeff</span>, <span class='kw'>batch</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tom Snijders, Christian Steglich, Johan Koskinen, Christoph Stadtfeld, James Hollway, Per Block, Nynke Niezink, Viviana Amati, Robert Krause.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


